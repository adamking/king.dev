---
// Click button, get confetti!
// Styled by Tailwind :)
---

<button
	class="appearance-none py-2 px-4 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-opacity-75"
>
	<slot />
</button>

<script>
	import confetti from "canvas-confetti";
	const button = document.body.querySelector("button");

	if (button) {
		button.addEventListener("click", () => {
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		});
	}

	var defaults = {
		spread: 360,
		ticks: 50,
		gravity: 0,
		decay: 0.94,
		startVelocity: 30,
		colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
	};

	function shoot() {
		confetti({
			...defaults,
			particleCount: 40,
			scalar: 1.2,
			shapes: ["star"],
		});

		confetti({
			...defaults,
			particleCount: 10,
			scalar: 0.75,
			shapes: ["circle"],
		});
	}
</script>
